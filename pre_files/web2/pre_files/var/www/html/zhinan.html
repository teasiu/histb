<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="zh-cn">
<!--<![endif]-->

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="机顶盒 Linux 指南">
    <meta name="author" content="teasiu">
    <meta name="keywords" content="nas,hisilicon">

    <title>海思机顶盒 NAS</title>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/stroke.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/prettyPhoto.css">
    <link rel="stylesheet" type="text/css" href="css/style1.css">

    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shCore.css" media="all">
    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shThemeRDark.css" media="all">

    <!-- CUSTOM -->
    <link rel="stylesheet" type="text/css" href="css/custom.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
    <button onclick="topFunction()" id="myBtn" title="返回顶部"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
    <?php
	$lanip=shell_exec("ifconfig eth0 | grep '\<inet\>'| grep -v '127.0.0.1' | awk '{ print $2}' | awk 'NR==1' 2>&1");
    ?>
    <?php
	$nasversion=shell_exec("cat /etc/nasversion 2>&1");
    ?>
    <?php
	$chipname=shell_exec("cat /etc/regname 2>&1");
    ?>
    <script>
        var mybutton = document.getElementById("myBtn");
        window.onscroll = function() {scrollFunction()};
        function scrollFunction() {
            if (document.body.scrollTop > 1000 || document.documentElement.scrollTop > 1000) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }
        function topFunction() {
            window.scrollTo({ top: 0, behavior: 'smooth' })
            document.documentElement.scrollTo({ top: 0, behavior: 'smooth' })
        }

        document.addEventListener("DOMContentLoaded", () => {
            document.querySelector('#mode').addEventListener('click',()=>{
                document.querySelector('html').classList.toggle('dark');
            })
        });


    </script>
    <script type="text/javascript">
	function disp_alert()
	{
	window.open("https://bbs.histb.com");
	}
	function dl_alert()
	{
	window.open("https://dl.ecoo.top:2096");
	}
    </script>
    <div id="wrapper">

        <div id="mode" >
            <div class="dark">
                <svg aria-hidden="true" viewBox="0 0 512 512">
                    <title>lightmode</title>
                    <path fill="currentColor" d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"></path>
                </svg>
            </div>
            <div class="light">
                <svg aria-hidden="true" viewBox="0 0 512 512">
                    <title>darkmode</title>
                    <path fill="currentColor" d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"></path>
                </svg>
            </div>
        </div>

        <div class="container">

            <section id="top" class="section docs-heading">

                <div class="row">
                    <div class="col-md-12">
                        <div class="big-title text-center">
                            <h1>海思机顶盒家庭服务器 NAS</h1>
                            <p class="lead">我是小盒子, 也是大世界</p>
                        </div>
                        <!-- end title -->
                    </div>
                    <!-- end 12 -->
                </div>
                <!-- end row -->

                <hr>

            </section>
            <!-- end section -->

            <div class="row">

                <div class="col-md-3">
                    <nav class="docs-sidebar" data-spy="affix" data-offset-top="300" data-offset-bottom="200" role="navigation">
                        <ul class="nav">
                            <li><a href="#line1">开始使用</a></li>
                            <li><a href="#line2">管理服务器文档</a></li>
                            <li><a href="#line3">内网穿透的场景</a></li>
                            <li><a href="#line4">Socks5 服务器</a></li>
                            <li><a href="#line5">创建个人博客或家庭公告栏</a></li>
                            <li><a href="#line6">安装和设置网络共享</a></li>
                            <li><a href="#line7">其他功能与技巧</a>
                                <ul class="nav">
                                    <li><a href="#line7_1">NFS 服务器</a></li>
                                    <li><a href="#line7_2">更改盒子的 MAC 地址</a></li>
                                    <li><a href="#line7_3">设置静态IP</a></li>
                                    <li><a href="#line7_4">WebDAV 服务器</a></li>
                                    <li><a href="#line7_5">增加 Nginx 模块自建站</a></li>
                                    <li><a href="#line7_6">安装私人 Git 仓库</a></li>
                                    <li><a href="#line7_7">局域网音视频广播</a></li>
                                    <li><a href="#line7_8">DDNS 定时更新脚本</a></li>
                                    <li><a href="#line7_9">安装无盘网络启动</a></li>
                                </ul>
                            </li>
                            <li><a href="#line8">挂载外置设备的支持</a></li>
                            <li><a href="#line9">直链下载与 BT 种子下载</a></li>
                            <li><a href="#line10">Docker 容器使用基础教程</a></li>
                            <li><a href="#line11">个人网盘 h5ai</a></li>
                            <li><a href="#line12">版本更新日志 (Changelog)</a></li>
                            <li><a href="#line13">著作版权声明</a></li>
                        </ul>
                    </nav >
                </div>
                <div class="col-md-9">
                    <section class="welcome">

                        <div class="row">
                            <div class="col-md-12 left-align">
                               <h2 class="dark-text">基本信息<hr></h2>
                                <div class="row">

                                    <div class="col-md-12 full">
                                        <div class="intro1">
                                            <ul>
                                                <li><strong>芯片型号 : </strong><?php echo $chipname ?> </li>  
                                                <li><strong>内网IP : </strong>&nbsp;<?php echo $lanip ?>&nbsp;    <strong>外网网址 : </strong><a href="https://nas-xxxxx.any168.net">https://nas-xxxxx.any168.net</a></li>
                                                <li><strong>系统版本号 : </strong><?php echo $nasversion ?>   </li>
												<li><strong>初始默认登陆账号和密码 :</strong>root 1234 </li>
                                                <li><strong>作者 : </strong> <a href="https://histb.com" target="_blank">神雕@histb.com</a></li>
                                                <li><strong>支持论坛 : </strong> <a href="https://bbs.histb.com" target="_blank">https://bbs.histb.com</a></li>
                                                <li><strong>版权和声明 : </strong> <a href="#" target="_blank">本系统固件发布在作者网站, 任何人均可免费下载和安装使用, 如果你是在不良奸商手上购买, 请尝试协商退款或给与差评!<br>作者唯一咸鱼官方账号是"神雕teasiu"<br>NAS系统内置的软件全部开放源码, 开通的服务仅仅用于学习研究, 不得用于任何非法用途</a></li>
                                                <li><strong>是的, 你的感觉没错, 这是一个小白也会使用的机顶盒服务器全部开源任你白嫖! </strong></li>
                                            </ul>
                                        </div>

                                        <hr>
                                        <div>
                                            <p>盒子实测耗电仅约3瓦, 一杯奶茶的成本可以养它一年 (24h * 365天)!
                                                <strong>就是这么优秀!</strong>
                                                <br> 盒子运行 Linux Ubuntu 20.04.4 LTS 服务器系统, 同时配置了适量的常用软件, 完全可以满足个人家庭需求
                                            </p>

                                            <p>WOO, 动手打造属于你的空间吧! </p>

                                            <h4>常用功能按钮</h4>
                                            <p>点击打开进行日常维护和使用.</p>
                                            <ol>
                                                <li><button type="button"><a target="_blank" href="http://<?php echo $lanip ?>:7681">管理终端</a></button>    <button type="button" onclick="disp_alert()">研发者论坛</button>    <button type="button" onclick="dl_alert()">系统更新</button>    <button type="button"><a target="_blank" href="/files">网盘系统</a></button>    <button type="button"><a target="_blank" href="/blog">个人博客</a></button>    <button type="button"><a target="_blank" href="http://<?php echo $lanip ?>:9091">BT下载器</a></button>     <button type="button"><a target="_blank" href="/ariang">直链下载器</a></button>    <button type="button"><a target="_blank" href="/index2.html">旧版主页</a></button></li>
                                            </ol>
                                            <div class="intro2 clearfix">
                                                <p><i class="fa fa-exclamation-triangle"></i> 如遇到不慎操作失误或者安装了自己不清楚的软件, 可以使用还原备份系统的命令: <a style="background:#000; color:#fff"> &nbsp; recoverbackup &nbsp; </a>
                                                    <br> 需要等待约4分钟左右, 系统将自动覆盖根分区, 根分区内的数据将全部被原备份系统清除并覆盖, 请做好必要的资料保存, 还原后外网访问的网址将重新随机分配
                                                </p>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                                <!-- end row -->
                            </div>
                        </div>
                    </section>

                    <section id="line1" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">开始使用 <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12">
                                <p>建议使用 Edge、Chrome、火狐浏览器等访问和管理机顶盒 <a target="_blank" href="http://<?php echo $lanip ?>:7681">管理终端</a>, 或者使用 Windows 10 的命令提示符、<acronym title="没有？百度百度!">SSH终端管理器</acronym>等登陆后台</p>

                                <h4>常用的 Linux 命令</h4>

                                <pre class="brush: html; highlight: [2,4]">
					ssh root@192.168.x.x			终端登陆服务器
					df -H							查看磁盘使用详情	
					ls -al (ll)						查看当前目录下的所有文件	
					apt update && apt upgrade -y	更新官方源已安装的软件	
					apt install samba				安装软件包, 例如 Samba
					cd /home/ubuntu					进入 /home/ubuntu 目录位置
					wget http://xxx.com/xxx.xxx		下载网络链接文件到当前文件夹位置
					passwd root						修改当前系统账号 root 的密码, 需要重复输入两次密码
					
                                </pre>

                                <p>盒子内置有以下几个基本功能的软件安装小白脚本, 直接输入以下命令即可自动安装并自动配置, 即装即用</p>

                                <pre class="brush: html">
		                    	install-samba.sh		安装局域网共享
		                    	install-qinglong.sh		安装 Docker 应用: 青龙面板
		                    	install-v2ray.sh		安装 Socks5 服务器
		                    	install-portainer.sh	安装 Docker 容器管理面板
		                    	install-gitweb.sh		安装和打造个人的 Git 仓库
		                    	install-homeassistant.sh	安装智能家居控制面板
		                    	install-jellyfin.sh		安装电影播放削刮器
		                    	install-casaos.sh		安装开源家庭云系统
                         </pre>

                                <p>使用 vi 命令对文档进行编辑;</p>

                                <pre class="brush: html">
				vi abc 打开和进入 abc 文档
				提示: 连续按下两下 dd 即可删除光标所在的行
				按一次键盘的 Insert 或者 i 按键, 即可进入当前文件的编辑模式
				键盘上下左右移动光标,
				修改编辑完毕, 按一次 Esc 按键退出编辑模式, 
				然后输入 :wq 这三个符号, 回车即可保存并退出文档
				若不保存当前修改, 即输入 :q! 这三个符号,回车即可直接退出文档编辑
                         </pre>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line2" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">管理服务器文档 <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="intro2 clearfix">
                            <p><i class="fa fa-wordpress"></i> 可以采用 FTP 或 SCP 等方式对服务器文档进行管理, 上传和下载
                                <br> 初始账号: ubuntu 密码: 1234</a> </p>
                        </div>

                        <hr>

                        <h4>具体使用指南</h4>

                        <p>建议使用<a target="_blank" href="https://www.filezilla.cn/download/client">FileZilla</a>或者<a target="_blank" href="https://winscp.net/eng/download.php">WinSCP</a>进行文件传输管理</p>

                        <a href="ftp.html" class="btn btn-primary">操作教程</a> <a href="https://bbs.histb.com" class="btn btn-info">分享和答疑</a>
                        <hr>
         <!--                  <div class="row">
                            <div class="col-md-8 col-md-offset-2">
                                <div class="media">
                                    <iframe width="560" height="315" src="https://www.youtube.com/embed/snFzbPm_RUE" frameborder="0" allowfullscreen></iframe>  
                                </div>
                            </div>

                        </div>  
 	-->
                    </section>
                    <!-- end section -->

                    <section id="line3" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">内网穿透的使用场景 <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <h4>服务器采用 FRP 开源软件进行内网穿透</h4>

                        <p>已经搭建了一个位于国外的服务器作为 FRP 的服务端, 并自动分配给盒子一个随机的二级域名, 你可以轻松的在外面访问盒子首页<strong>本盒子外网网址 : </strong><a href="https://nas-xxxxx.any168.net">https://nas-xxxxx.any168.net</a></p>

                        <a href="http://frp.ecoo.ga" class="btn btn-primary">服务器详情</a> <a href="https://bbs.histb.com" class="btn btn-info">分享与答疑</a>

                        <hr>

                        <h4>使用场景</h4>

                        <p>修改和配置 /etc/frp/frpc.ini 文档</p>
                        <p>把盒子放在家里, 公司, 或学校, 让你的盒子变身为一个比花生棒更加强大的跳板机, 没错, 也是白嫖的!</p>
                        <pre class="brush: html">
                        # /etc/frp/frpc.ini
                        [common]
                        server_addr = frp.ecoo.ga
                        server_port = 7000
                        log_max_days = 3
                        token = any168tomynas
                        login_fail_exit = false
                        [ssh-xxx]
                        type = tcp
                        local_ip = 127.0.0.1
                        local_port = 22
                        remote_port = 10086
                        [web-xxx]
                        type = http
                        local_ip = 127.0.0.1
                        local_port = 80
                        subdomain = nas-xxx
                        # 添加以下内容变身
                        [web-xxx-synology]
                        type = http
                        local_ip = 192.168.1.222  #假设这是你的黑群IP
                        local_port = 5000
                        subdomain = xxx-synology	
                        #你就可以在外网用xxx-synology.any168.net域名直接访问黑群的管理页面了
                        # 添加以下内容变身2
                        [web-xxx-mycompany]
                        type = http
                        local_ip = 192.168.1.10  #假设这是你公司的文档服务器
                        local_port = 80
                        subdomain = xxx-company	
                        #你就可以在外网用xxx-company.any168.net域名直接访问公司文档页面了
                        # 添加以下内容变身3
                        [web-xxx-myschool]
                        type = http
                        local_ip = 192.168.1.10  #假设这是你校园内网专用的考试查询内网地址
                        local_port = 80
                        subdomain = xxx-myschool	
                        #你就可以在外网用xxx-myschool.any168.net域名直接访问校园内网了
                        
                        </pre>
                        <p>检查自己修改的配置是否成功(多人使用, 只能使用唯一的xxx名称): </p>
                        <pre class="brush: html">
                        systemctl stop frpc			#先停止frp客户端的服务
                        frpc -c /etc/frp/frpc.ini		#试运行上面修改过的配置
                        #最后, 如果出现的都是蓝色的并且都显示success的结果, 则ok, 
                        #否则重新修改xxx的名称避免和其他人的设置重复
                        #按ctrl+c结束命令
                        systemctl restart frpc		#重启服务
                        </pre>
                        <hr>
        <!--                 <div class="row">
                            <div class="col-md-6">
                                <div class="media">
                                    <iframe width="560" height="315" src="http://www.any168.net" frameborder="0" allowfullscreen></iframe>
                                </div>

                            </div>
                            <div class="col-md-6">
                                <div class="media">
                                    <iframe width="560" height="315" src="#" frameborder="0" allowfullscreen></iframe>
                                </div>

                            </div>
                        </div>
	 -->
                    </section>
                    <!-- end section -->

                    <section id="line4" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Socks5 服务器配置 <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-4">
                            	 <a href="images/upload/firefoxset.png" data-rel="prettyPhoto">
                                <img src="images/upload/firefoxset.png" alt="" class="img-responsive img-thumbnail"></a>
                                <h4>浏览器代理设置</h4>
                                <p>打开设置-网络-代理, 按照上图设置, 保存</p>
                            </div>
                            <!-- end col -->

                            <div class="col-md-4">
                                <a href="images/upload/winset.png" data-rel="prettyPhoto">
                                <img src="images/upload/winset.png" alt="" class="img-responsive img-thumbnail"></a>
                                <h4>Windows 代理设置</h4>
                                <p>打开 Windows 设置-网络-代理, 按照上图设置, 保存</p>
                            </div>
                            <!-- end col -->

                            <div class="col-md-4">
                                <a href="images/upload/iptest.png" data-rel="prettyPhoto"><img src="images/upload/iptest.png" alt="" class="img-responsive img-thumbnail"></a>
                                <h4>查看是否上线</h4>
                                <p>浏览器打开<a target="_blank" href="http://ip111.cn">在线检测IP</a>, 看到 IP 不同则成功</p>
                            </div>
                            <!-- end col -->

                            <div class="col-md-12">
                                <p>限于研究学习的目的, 自带节点
                                <br>安装下面的脚本后盒子打开了 Socks5 的代理服务功能, 端口号10808
                                <br>你在浏览器或者系统自行设置通过盒子的IP<?php echo $lanip ?>代理 Socks5 上网即可</p>

                        	<pre class="brush: html">
				install-v2ray.sh			# 终端输入这句命令自行安装
				systemctl status v2ray		# 查看运行状态是否正常
				curl --socks5 127.0.0.1:10808 google.com  # 返回 301 字样则成功
				install-v2ray.sh --remove	# 终端输入命令即可卸载 v2ray
                      	 	</pre>
                               <div class="intro2 clearfix">
                                                <p><i class="fa fa-exclamation-triangle"></i> 本功能仅作为学习以及测试使用, 禁止用于非法用途! 测试完毕请立即卸载!
                                                </p>
                               </div>
                            </div>
                        </div>
                        <hr>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line5" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">创建个人博客或家庭公告栏 <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">

                            <div class="col-md-12">
                                <p>点击打开<a target="_blank" href="http://<?php echo $lanip ?>/blog">个人博客</a>, 点击“我准备好了, 开始下一步", 输入新设登陆的密码, 点击“确认, 开始安装"
                                <br>博客的用途非常广泛, 你甚至可以机智地把它当成家庭公告板提醒家里人上去写留言;
                                <br>也可以当成自己的网络笔记本, 粘贴上你在网络上学习过的代码, 永久保留备查;
                                <br>还可以把外网网址公开给私人好友, 分享你的能量</p>
                           
			     <h4>保存和重装后还原博客数据库 </h4>
			         <p>在 recoverbackup 重装系统之前, 一定要备份博客的数据库
			         <br>数据库位置路径在 /var/www/html/blog/usr/623d62d5e5e96.db db 名称可能会不相同
			         <br>操作如下: </p>
			     <pre class="brush: html">
			     mkdir -p /mnt/sda1/blog-data			在U盘建立数据库一个文件夹
			     chmod -R 777 /mnt/sda1/blog-data		给文件夹赋予权限
			     cp /var/www/html/blog/usr/*.db /mnt/sda1/blog-data/myblog.db
			     把数据库文档移出来到U盘指定目录并重命名为 myblog.db
			     </pre>
			     
			     	<p>下次重新安装博客时, 点击 "我准备好了, 开始下一步", 数据库文件路径输入 /mnt/sda1/blog-data/myblog.db 然后无需设置密码直接点击 "确认, 开始安装", 然后点击 "使用原数据" 这样就把数据还原了, 打开还是原来一样的所有文章
			     	<br>注意: 如果你常常使用的是外网网址登陆博客, 请在后台设置里填写正确的外网网址</p>
                            </div>


                        </div>
                        <hr>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line6" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">如何安装和设置网络文档共享<hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">

                            <div class="col-md-12">
                                <p>第一步, 先运行命令 install-samba.sh 使用系统内置的脚本安装 Samba 软件
                                <br>安装完成后会自动共享 /home/ubuntu/downloads 文件夹, 
                                <br>在文件管理器输入: \\<?php echo $lanip ?> 即可访问</p>
                            </div>
                            <h4>修改配置文档, 把U盘的文件夹共享出来 </h4>
                            <pre class="brush: html">
			     mkdir -p /mnt/sda1/usb-share		在U盘建立一个文件夹 usb-share (当然, 你也可以建立其他文件夹)
			     chmod -R 777 /mnt/sda1/usb-share	给这个文件夹赋予权限
			     </pre>
			     <p>输入命令 vi /etc/samba/smb.conf 修改配置, 在结尾下面添加如下代码: </p>
			     <pre class="brush: html">
			     [usb-shares]
				path = /mnt/sda1/usb-share
				read only = no
				guest ok = yes
				create mask = 0777
				directory mask = 0777
				browseable = yes
			     </pre>
			     <pre class="brush: html">
			    systemctl restart smbd		修改完成后需要重启 Samba 服务
			     </pre>
			     <p>最后, 在文件管理器输入: \\<?php echo $lanip ?> 即可访问在网上邻居也可以找到这个共享文件夹了</p>
			     <hr>
			     
<!--
                            <div class="col-md-6">
                                <a href="upload/thumbnail.png" data-rel="prettyPhoto"><img src="images/upload/thumbnail.png" alt="" class="img-responsive img-thumbnail"></a>
                                <h4>Installation Slider</h4>
                                <ul>
                                    <li><strong>Step 1</strong> - Lorem the It is a long established fact that a reader ease read more about WordPress here.</li>
                                    <li><strong>Step 2</strong> - Lorem the It is a long established fact that a reader will be distracted.. Please read more about WordPress here.</li>
                                    <li><strong>Step 3</strong> - Lorem the It is a long established fact that a read.</li>
                                </ul>
                            </div>
                            

                            <div class="col-md-6">
                                <a href="upload/thumbnail.png" data-rel="prettyPhoto"><img src="images/upload/thumbnail.png" alt="" class="img-responsive img-thumbnail"></a>
                                <h4>Updating Slider</h4>
                                <p>Lorem the It is a long established fact that a reader will be distracted.. Please read more about WordPress here.</p>
                                <ul>
                                    <li><strong>Step 1</strong> - Lorem the It is a long established fact that a reader ease read more about WordPress here.</li>
                                    <li><strong>Step 2</strong> - Lorem the It is a long established fact that a reader will be distracted.. Please read more about WordPress here.</li>
                                    <li><strong>Step 3</strong> - Lorem the It is a long established fact that a read.</li>
                                </ul>
                            </div>
                            
 -->
                        </div>
                       

                    </section>
                    <!-- end section -->

                    <section id="line7" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">其他功能与使用技巧 <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-4">
                                <a href="images/upload/nfs.jpg" data-rel="prettyPhoto"><img src="images/upload/nfs.jpg" alt="" class="img-responsive img-thumbnail"></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_1">NFS服务器 - </h4>
                                <p>系统已内置 NFS 文件服务器
                                <br>初始地址为 /home/ubuntu/downloads
                                <br><pre class="brush: html">
                                vi /etc/exports		# 编辑配置文件, 加入以下内容 (请根据实际情况修改)
                                /home/ubuntu/downloads *(rw,sync,no_root_squash,no_subtree_check)
                                /mnt/sda1 *(rw,sync,no_root_squash,no_subtree_check)
                                exportfs			# 运行这个命令使配置生效
                                </pre>
                                </p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                <a href="images/upload/mac.jpg" data-rel="prettyPhoto"><img src="images/upload/mac.jpg" alt="" class="img-responsive img-thumbnail"></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_2">更改盒子网口 MAC 地址 - </h4>
                                <p><pre class="brush: html">
                                vi /etc/network/interfaces.d/eth0		# 编辑配置文件
                                注意：你改的mac地址必须符合16进制格式！
                                只能从 0123456789ABCDEF 这16个数字与字母中选。
                                # 在最下方增加下面的内容 (实际内容可按需修改)
                                pre-up ifconfig eth0 hw ether 00:11:22:33:44:66
                                </pre>
                                </p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                <a href="images/upload/ip.jpg" data-rel="prettyPhoto"><img src="images/upload/ip.jpg" alt="" class="img-responsive img-thumbnail"></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_3">设置静态IP - </h4>
                                <p><pre class="brush: html">
					vi /etc/network/interfaces.d/eth0	# 修改配置文件
					# 增加下面的内容 (实际内容可按需修改)
					auto eth0
					iface eth0 inet static
					address 192.168.1.10
					network 192.168.1.0
					netmask 255.255.255.0
					broadcast 192.168.1.255
					gateway 192.168.1.1
					dns-nameservers 192.168.1.1
					pre-up ifconfig eth0 hw ether 00:11:22:33:44:66
					</pre>
					</p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                <a href="images/upload/webdav.jpg" data-rel="prettyPhoto"><img src="images/upload/webdav.jpg" alt="" class="img-responsive img-thumbnail"></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_4">WebDAV 服务器 - </h4>
                                <p>已经内置 WebDAV 服务在 8081 端口, 默认文档位置在 /home/ubuntu/webdav
                                <br>修改默认文档位置 vi /etc/nginx/sites-available/nginx_webdav
                                <br>修改后输入 nginx -s reload 重启服务
                                <br><button type="button"><a target="_blank" href="http://<?php echo $lanip ?>:8081">http://<?php echo $lanip ?>:8081</a></button>
                                <br>Windwows 映射 WebDAV 目录
                                <br>开启服务此电脑右键-管理-服务-WebClient 设为自动, 停止服务
				 <br>修改注册表
					<br>修改注册表使得WIN同时支持http和https: 
				<br>定位到
				<br>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\WebClient\Parameters
				<br>把BasicAuthLevel 值改成2, 即同时支持http和https, 默认只支持https, 然后重启服务: 
				<br>磁盘映射
				<br>在Windows资源管理器空白处右键, 选添加一个网络位置
				<br>填写正确的连接加端口号, 默认登陆用户名和密码 <strong>admin admin</strong>
				<br><pre class="brush: html">
				修改用户名和密码: 
				echo -n 'admin:' | tee /etc/nginx/passwords.list
				openssl passwd -apr1 | tee -a /etc/nginx/passwords.list
				nginx -s reload
				</pre>
                                </p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                <a href="images/upload/nginx.jpg" data-rel="prettyPhoto"><img src="images/upload/nginx.jpg" alt="" class="img-responsive img-thumbnail"></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_5">增加自建站 Nginx 模块 - </h4>
                                <p><strong>我就建个站</strong>
                                <br>vi /etc/nginx/sites-available/mywebsite
                                <br>复制下面代码粘贴
                                <pre class="brush: html">
				server {
					listen 8088;
					listen [::]:8088;
					server_name example.com;
					root /var/www/html/example.com;
					index index.html;
					location / {
					try_files $uri $uri/ =404;
					}
				}
                                </pre>
                                <br><pre class="brush: html">
                                ln -sf /etc/nginx/sites-{available,enabled}/mywebsite
                                nginx -s reload
                                最后运行上面两句使能
                                </pre>
                                把网站文档放在 /var/www/html/example.com
                                你就可以打开 IP:8088 访问你自己的网站了
                                这个例子只是简单的模板, 详细情形请搜索学习
                                </p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                <a href="images/upload/git.jpg" data-rel="prettyPhoto"><img src="images/upload/git.jpg" alt="" class="img-responsive img-thumbnail"></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_6">安装私人 Git 仓库 - </h4>
                                <p>首先要挂载U盘, 并且在U盘创建 gitweb 文件夹并赋予 777 权限
                                <br>命令行输入 install-gitweb.sh 自动安装小白脚本
                                <br>安装完成后, 浏览 <a target="_blank" href="http://<?php echo $lanip ?>:8011">http://<?php echo $lanip ?>:8011</a> 即可管理你的 Git 仓库
                                <br><pre class="brush: html">
                                cd /mnt/sda1/gitweb				# 进入U盘
                                # 克隆一个 Github 上的库并建立裸库在服务器上
                                git clone --bare https://github.com/xxx/xxx.git xxx.git
                                cd xxx.git						# 进入该仓库
                                touch git-daemon-export-ok
                                echo "xxx仓库" > description
                                # 这样你就可以看到这个转移过来的仓库了
                                # 建立一个新的空仓库:
                                cd /mnt/sda1/gitweb
                                mkdir xxx.git
                                cd xxx.git
                                git init --bare
                                touch git-daemon-export-ok
                                echo "我的第一个新仓库" > description
                                </pre></p>
                                <p>客户端克隆本服仓库命令: 
                                <br><pre class="brush: html">
                                git clone root@192.168.xx.xx:/mnt/sda1/gitweb/xxx.git
                                密码与系统相同
                                </pre>
                                </p>
                                
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>
                        <div class="row">
                            <div class="col-md-4">
                                <a href="images/upload/minidlna.jpg" data-rel="prettyPhoto"><img src="images/upload/minidlna.jpg" alt="" class="img-responsive img-thumbnail"></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_7">MiniDLNA 局域网音视频广播 - </h4>
                                <br><pre class="brush: html">
                                apt install minidlna			# 安装 MiniDLNA 软件 
                                vi /etc/minidlna.conf			# 修改配置文件
                                将 media_dir=/var/lib/minidlna 修改为 media_dir=/mnt/sda1/minidlna
                                mkdir /mnt/sda1/minidlna		# 在U盘创建目录
                                chmod 777 -R /mnt/sda1/minidlna # 赋予权限
                                </pre></p>
								<p>在该文件夹下存放图片或音视频 MP3、MP4、PNG、JPG 等格式的文件
                                <br>你就可以在局域网下的电脑、手机、电视等智能终端进行播放了
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->
                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                <a href="images/upload/qd.jpg" data-rel="prettyPhoto"><img src="images/upload/qd.jpg" alt="" class="img-responsive img-thumbnail"></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_8">DDNS 解析自动更新脚本教程 - </h4>
                                <p><strong>阿里域名 DDNS 解析更新</strong>
                                <br><pre class="brush: html">
                                # 安装 nodejs: apt install nodejs
                                # 修改配置文件: vi /home/ubuntu/client-mode/config.json
                                填写你的阿里提供的 keyid 和 keysecret, 并填写你需要解析的域名
                                {
                                "AccessKeyId": "xxxx ",
                                "AccessKeySecret": "xxxx ",
                                "hostnames": ["@.ecoo.top", "www.ecoo.top"]
                                }
                                保存并退出, 然后添加计划任务(每 15 分钟检查一次, 外网 IP 变化才自动更新)
                                crontab -e
                                输入 */15 * * * * /home/ubuntu/client-mode/client.sh
                                </pre>
                                </p>
                                <p><strong>花生壳和 noip.com 解析脚本</strong>
                                <br><pre class="brush: html">
                                使用方法:
                                # 花生壳修改配置文件: vi /home/ubuntu/client-mode/ddns_oray.sh
                                # noip 配置文件: vi /home/ubuntu/client-mode/ddns_noip.sh
                                填写服务商提供的 DDNS 帐号和密码, 并填写你需要解析的域名
                                user=
                                passwd=
                                hostname=
                                保存并退出, 然后添加计划任务(每 15 分钟检查一次, 外网 IP 变化才自动更新)
                                crontab -e
                                */15 * * * * /home/ubuntu/client-mode/ddns_oray.sh
                                或者
                                */15 * * * * /home/ubuntu/client-mode/ddns_noip.sh
                                计划任务教程: https://www.runoob.com/w3cnote/linux-crontab-tasks.html
                                </pre>
                                </p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->
                        <hr>

                        <div class="row">
                            <div class="col-md-4">
                                <a href="images/upload/qd.jpg" data-rel="prettyPhoto"><img src="images/upload/qd.jpg" alt="" class="img-responsive img-thumbnail"></a>
                            </div>

                            <div class="col-md-8">
                                <h4 id="line7_9">安装无盘网络启动 - </h4>
                                <p>嗯, 这个在下一次更新推出, 期待吧</p>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line8" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">挂载外置设备<hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-6">
                                <p>系统支持自动挂载外置设备, 插入 U盘 或移动硬盘即可自动挂载到 /mnt 下, 插入 TF卡讲自动挂载到 /mnt/mmcblk1p1</a></p>
                                <ul>
                                    <li>* 如果没有显示设备请尝试重新插拨, 查看是否自动挂载</li>
                                    <li>* 部分机型可能需要插上USB口以后热启动上电才会被盒子识别</li>
									<li>* <strong>连接外置 3.5吋 移动硬盘盒请确保供电正常</strong></li>
                                </ul>
                                <strong>强烈建议将 U盘 或 TF卡 格式化为 ext4 文件系统</strong>
                                <ul>
                                    <li>* 部分盒子建议插到靠近电源的USB口</li>
                                    <li>* 建议使用 Linux 自带的 fdisk 分区命令进行重新分区</li>
                                    <li>* 也可以使用 mkfs.ext4 /dev/sd? 命令格式化</li>
									<li>* <strong>警告: (符号 ? 请自行匹配到对应的外置设备序号, 如 sda sdb)</strong></li>
                                </ul>
                            </div>

                            <div class="col-md-6">
                                <strong>使用 fdisk 工具格式化外置储存设备</strong>
                                <ul>
                                    <li><pre class="brush: html">
			    		umount -l /mnt/sda1	# 卸载分区 (根据情况修改, 有时并非 /mnt/sda1)
			    		fdisk -l			# 查看磁盘情况
			    		fdisk /dev/sda		# 进入命令行分区界面 (根据情况修改)
			    		(注意, 这里是 sda 而不是 sda1)
			    			输入 o 设置新分区为 msdos 格式
			    			输入 n 建立新分区
			    			接着输入 p 建立主分区
			    			接着默认 2048 字节扇区头和自动的扇区尾
			    			(按回车即默认)
			    			输入 w 将上面的操作保存
			    		mkfs.ext4 /dev/sda1	# 执行格式化
			     		</pre>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line9" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">直链下载与 BT 种子下载<hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-6">
                                <strong>Aria2 直链下载</strong>
                                <ul>
									<li>* 访问地址 http://IP/ariang</li>
                                    <li>* 默认下载位置 /home/ubuntu/downloads</li>
                                    <li>* 请自行修改挂载U盘下载位置</li>
                                    <li>* 例如先在U盘建立一个文件夹 aria2</li>
									<li>* <strong>更新 Tracker 列表(BT 下载提速): 打开终端, 执行指令 update-tracker.sh, 按照提示操作即可</strong></li>
                            <div class="col-md-6">
                                <a href="images/upload/aria2.png" data-rel="prettyPhoto"><img src="images/upload/aria2.png" alt="" class="img-responsive img-thumbnail"></a>
                            </div>
                                </ul>

                            </div>

                            <div class="col-md-6">
                                <strong>Transmission 种子下载</strong>
                                <ul>
                                    <li>* 请自行修改下载位置</li>
                                    <li>* 默认登陆帐号 <strong>admin</strong> 密码 <strong>admin</strong></li>
                            <div class="col-md-6">
                                <a href="images/upload/transmission.png" data-rel="prettyPhoto"><img src="images/upload/transmission.png" alt="" class="img-responsive img-thumbnail"></a>
                            </div>
                                </ul>
                            </div>
                            <div class="col-md-12">
							<br><strong>修改 Transmission 密码<strong>
                            <li><pre class="brush: html">
                            # 停止 Transmission 服务
                            /etc/init.d/transmission-daemon stop
                            # 修改密码
                            # 编辑配置文件: vi /etc/transmission-daemon/settings.json
							# 找到以下内容:
                            "rpc-password": "{1e82c73f8f4b5c3ba4e2d94227fc19dc3442abf7nSWuZtsb",
                            "rpc-port": 9091,
                            "rpc-url": "/transmission/",
                            "rpc-username": "admin",
                            # 只需要修改 password、username 后面 "" 内的内容即可
                            # 开启 Transmission 服务
                            /etc/init.d/transmission-daemon start
                            </pre>
                            </div>
                        </div>
                        <!-- end row -->
                    </section>
                    <!-- end section -->
                    <section id="line10" class="section">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Docker 容器使用基础教程 <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->
                        <div class="row">
                            <div class="col-md-6">
                                <strong>安装 Docker 程序</strong>
                                <p><strong>apt update && apt install docker.io</strong></p>
                                <ul>
                                    <li>1. 内置青龙面板的安装脚本</li>
                                    <li><strong>install-qinglong.sh</strong></li>
                                    <li>2. 内置了容器管理面板的安装脚本</li>
                                    <li><strong>install-portainer.sh</strong></li>
                                    <li>3. 内置了特斯拉监控程序的安装脚本</li>
                                    <li><strong>install-teslamate1.sh</strong></li>
                                    <li>4. 安装电影播放削刮器 (测试中)</li>
                                    <li>Docker 很好用, 但并不是全部装上榨干就好, 而是适合自己用就好</li>
                                    <li>如果你有好的建议, 请到论坛贴出你的脚本, 有机会被采纳</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <strong>Docker 使用基础</strong>
                                <p>初学者可以尝试新建和删除 Docker 镜像和容器</p>
                                <ul>
                                    <li><pre class="brush: html">
                                    	docker images		列出已安装的镜像
                                    	docker ps			列出正在运行的容器
                                    	docker ps -a		列出所有容器，包括未运行
                                    	docker stop xxx		停止 xxx 容器
                                    	docker rm xxx		删除 xxx 容器
                                    	docker rmi xxx		删除 xxx 镜像
                                    	</pre>
                                    </li>
                                </ul>
                            </div>
                            <ul>
                                <li><pre class="brush: html">
									# 安装 Docker 镜像前设置安装位置到U盘
                                	systemctl stop docker				# 停止 Docker 服务
                                	mkdir -p /mnt/sda1/docker			# 建立文件夹
                                	chmod 777 -R /mnt/sda1/docker			# 赋予权限
                                	vi /lib/systemd/system/docker.service	# 编辑配置文件
                                	ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock
                                	插上一句 --graph="/mnt/sda1/docker" 变为如下: 
                                	ExecStart=/usr/bin/dockerd --graph="/mnt/sda1/docker" -H fd:// --containerd=/run/containerd/containerd.sock
                                	systemctl daemon-reload
                                	systemctl start docker
                                	</pre>
                                </li>
                            </ul>
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line11" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">个人网盘 h5ai 应用 <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12">

                                <p>存档位置: /var/www/html/files/
                                <br>如果要更改存档位置到外接设备 /mnt/sda1/usb-files
                                <br>则执行: ln -s /mnt/sda1/usb-files /var/www/html/files/usb-files
                                <br>系统默认配置已经作了一个软链接示范
                                <br>/home/ubuntu/files软链接到/var/www/html/files/home
                                <br><pre class="brush: html">
                                mkdir -p /mnt/sda1/usb-files
                                ln -s /mnt/sda1/usb-files /var/www/html/files/usb-files
                                echo "## 这是页首显示" > /mnt/sda1/usb-files/_h5ai.header.md
                                echo "## 这是页脚说明" > /mnt/sda1/usb-files/_h5ai.footer.md
                                </pre>
                                <br>网盘系统可以直接播放音视频和查看文档内容
                                <br>在文档名称前面打勾, 左上角的下载按钮, 可以直接将文档打包zip格式并浏览器下载
                                </p>

                                <hr>

                            </div>
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line12" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Version History (Changelog) <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12">

                                <p>本操作系统基于 Ubuntu 20.04.4 LTS, 由 Teasiu 和 Hyy2001 定制</p>

                                <hr>

                                <h4>Changelog</h4>
				<iframe width="760" height="315" src="https://dl.ecoo.top:2096/changeslog.html" frameborder="0" allowfullscreen></iframe>


                            </div>
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->

                    <section id="line13" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Copyright and License <hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12">
                                <p>盒子内核及运行设计版权归神雕 teasiu@ecoo.top, 任何人使用或移植借鉴须注明出自 www.ecoo.top</p>
                                <p>未经作者授权, 不得将系统用于盈利售卖, 不得用于衍生的任何软件变相收费否则视为侵权行为! 一旦被举报, 必将追究!</p>                        
                                <p>官方网站 <a href=" https://www.ecoo.top" target="_blank">www.ecoo.top</a></p>
                            
                            </div>
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->
                </div>
                <!-- // end .col -->

            </div>
            <!-- // end .row -->

        </div>
        <!-- // end container -->

    </div>
    <!-- end wrapper -->

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/retina.js"></script>
    <script src="js/jquery.fitvids.js"></script>
    <script src="js/wow.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>

    <!-- CUSTOM PLUGINS -->
    <script src="js/custom.js"></script>
    <script src="js/main.js"></script>

    <script src="js/syntax-highlighter/scripts/shCore.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushXml.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushCss.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushJScript.js"></script>

</body>

</html>
